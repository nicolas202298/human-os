<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HUMAN-OS | Sovereign Intelligence</title>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<style>
:root { --neon:#00f2ff; --bg:#050505; --card:#111; }
*{box-sizing:border-box;margin:0;padding:0;font-family:Inter,sans-serif}
body{background:var(--bg);color:#fff;overflow-x:hidden}

/* LANDING */
#landing-page{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;text-align:center;padding:40px 20px;background:radial-gradient(circle at top,#0a1f21 0%,#050505 100%)}
.hero-title{font-size:3.5rem;font-weight:900;margin-bottom:20px}
.hero-title span{color:var(--neon)}
.hero-subtitle{color:#888;max-width:600px;margin-bottom:40px}
.cta-button{background:var(--neon);color:#000;padding:22px 45px;border-radius:50px;font-weight:900;text-decoration:none}
.login-trigger{margin-top:30px;color:#444;cursor:pointer;text-decoration:underline}

/* APP */
#auth-screen,#app-interface{display:none}
#auth-screen{height:100vh;display:flex;align-items:center;justify-content:center;background:#000}

#sidebar{width:280px;height:100%;background:#010409;border-right:1px solid #30363d;position:fixed;left:-280px;transition:.3s;z-index:2000}
#sidebar.open{left:0}
.main-app{margin-left:0;flex-grow:1;display:flex;flex-direction:column;height:100vh;background:#0d1117}

header{padding:15px;border-bottom:1px solid #30363d;display:flex;justify-content:space-between;align-items:center}
#flow{flex-grow:1;overflow-y:auto;padding:25px;max-width:850px;margin:0 auto;padding-bottom:160px}

.msg{padding:20px;border-radius:12px;margin-bottom:15px;max-width:90%}
.user{background:#21262d;align-self:flex-end;margin-left:auto}
.ai{color:#d1d5db}

footer{position:fixed;bottom:0;width:100%;padding:20px;background:linear-gradient(transparent,#0d1117 40%)}
.input-box{max-width:768px;margin:0 auto;background:#21262d;border-radius:15px;padding:15px;border:1px solid #30363d;display:flex;gap:10px}
textarea{flex-grow:1;background:transparent;border:none;color:#fff;resize:none;outline:none}
.send-btn{background:var(--neon);border:none;width:35px;height:35px;border-radius:8px;cursor:pointer}
</style>
</head>

<body>

<section id="landing-page">
<p style="color:var(--neon)">ACCESS BY INVITATION</p>
<h1 class="hero-title">Instale o <span>HUMAN-OS</span></h1>
<p class="hero-subtitle">Kernel soberano de inteligência.</p>
<a href="#" class="cta-button">Adquirir Acesso</a>
<p class="login-trigger" onclick="showLogin()">Já possui licença?</p>
</section>

<section id="auth-screen">
<div style="background:#161b22;padding:40px;border-radius:15px;width:350px">
<input id="email" placeholder="Email" style="width:100%;margin-bottom:10px">
<input id="password" type="password" placeholder="Senha" style="width:100%;margin-bottom:20px">
<button onclick="handleAuth()" style="width:100%">Entrar</button>
</div>
</section>

<div id="app-interface">
<div id="sidebar">
<div style="padding:15px;font-weight:bold;color:var(--neon)">HISTÓRICO</div>
<button onclick="newConversation()" style="margin:10px;width:90%">+ Nova Conversa</button>
<div id="history-list"></div>
</div>

<div class="main-app">
<header>
<i class="fas fa-bars" onclick="toggleMenu()" style="cursor:pointer"></i>
<b>HUMAN-OS</b>
<div></div>
</header>

<div id="flow">
<div class="msg ai"><b>KERNEL ATIVO.</b></div>
</div>

<footer>
<div class="input-box">
<textarea id="cmd" placeholder="Mensagem..."></textarea>
<button onclick="destilar()" class="send-btn">↑</button>
</div>
</footer>
</div>
</div>

<script>
const _supabase=supabase.createClient("URL","KEY");
let conversations=JSON.parse(localStorage.getItem("humanos"))||[];
let activeConversationId=null;

function showLogin(){
document.getElementById("landing-page").style.display="none";
document.getElementById("auth-screen").style.display="flex";
}
function toggleMenu(){document.getElementById("sidebar").classList.toggle("open")}

async function handleAuth(){
document.getElementById("auth-screen").style.display="none";
document.getElementById("app-interface").style.display="flex";
renderHistory();
}

function save(){localStorage.setItem("humanos",JSON.stringify(conversations))}

function newConversation(){
const id=Date.now();
conversations.unshift({id,title:"Nova Conversa",messages:[]});
activeConversationId=id;
save();renderHistory();renderConversation();
}

function renderHistory(){
const h=document.getElementById("history-list");
h.innerHTML="";
conversations.forEach(c=>{
const d=document.createElement("div");
d.textContent=c.title;
d.style.padding="10px";
d.onclick=()=>{activeConversationId=c.id;renderConversation()};
h.appendChild(d);
});
}

function renderConversation(){
const f=document.getElementById("flow");
f.innerHTML="";
const c=conversations.find(c=>c.id===activeConversationId);
if(!c)return;
c.messages.forEach(m=>addMsg(m.role,m.content));
}

async function destilar(){
if(!activeConversationId)newConversation();
const c=conversations.find(c=>c.id===activeConversationId);
const t=document.getElementById("cmd").value;
addMsg("user",t);
c.messages.push({role:"user",content:t});
document.getElementById("cmd").value="";
addMsg("ai","Resposta da IA...");
save();renderHistory();
}

function addMsg(r,c){
const f=document.getElementById("flow");
const d=document.createElement("div");
d.className="msg "+r;
d.innerHTML=c;
f.appendChild(d);
f.scrollTop=f.scrollHeight;
}
</script>

</body>
</html>
