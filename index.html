<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HUMAN OS | Wealth Architect</title>
    <style>
        :root { --main: #00f2ff; --gold: #d4af37; --bg: #020202; --card: #0a0a0c; --border: rgba(255,255,255,0.06); }
        * { box-sizing: border-box; font-family: 'Inter', sans-serif; transition: all 0.2s; }
        body { background: var(--bg); color: #fff; margin: 0; display: flex; height: 100vh; overflow: hidden; }

        /* Painel de Controle de Riqueza */
        #wealth-panel { width: 320px; background: #000; border-right: 1px solid var(--border); padding: 25px; display: flex; flex-direction: column; }
        .stat-card { background: #080808; border: 1px solid var(--border); padding: 15px; border-radius: 12px; margin-bottom: 20px; }
        .stat-card label { font-size: 10px; color: #555; text-transform: uppercase; letter-spacing: 1px; }
        .stat-card input { width: 100%; background: transparent; border: none; color: var(--gold); font-size: 20px; font-weight: bold; outline: none; margin-top: 5px; }

        /* Dashboard de Projeção */
        #projection { margin-top: auto; padding-top: 20px; border-top: 1px solid var(--border); }
        .roi-badge { background: rgba(0,242,255,0.05); color: var(--main); padding: 10px; border-radius: 8px; font-size: 11px; text-align: center; border: 1px solid rgba(0,242,255,0.1); }

        /* Workspace */
        #workspace { flex-grow: 1; display: flex; flex-direction: column; background: #050505; }
        header { padding: 20px 40px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; background: #000; }
        
        #chat-flow { flex-grow: 1; overflow-y: auto; padding: 40px 15%; display: flex; flex-direction: column; gap: 35px; }
        .msg { display: flex; gap: 20px; animation: slideIn 0.4s ease; }
        .avatar { width: 40px; height: 40px; border-radius: 8px; flex-shrink: 0; border: 1px solid var(--border); }
        .msg.ai .avatar { background: var(--main); box-shadow: 0 0 15px rgba(0,242,255,0.3); }
        .text { max-width: 85%; line-height: 1.8; color: #bbb; font-size: 15px; }
        
        /* Input de Comando */
        footer { padding: 30px 15%; background: linear-gradient(0deg, #000 50%, transparent); }
        .cmd-bar { background: #0c0c0e; border: 1px solid #222; border-radius: 14px; padding: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.6); }
        textarea { width: 100%; background: transparent; border: none; color: #fff; resize: none; font-size: 15px; outline: none; padding-bottom: 10px; }
        
        .actions { display: flex; justify-content: space-between; align-items: center; border-top: 1px solid #1a1a1a; padding-top: 12px; }
        button { background: var(--main); color: #000; border: none; padding: 10px 30px; border-radius: 6px; font-weight: 800; cursor: pointer; text-transform: uppercase; font-size: 12px; }
        button:hover { background: #fff; transform: scale(1.03); }

        @keyframes slideIn { from { opacity: 0; transform: translateX(-10px); } to { opacity: 1; transform: translateX(0); } }
        pre { background: #000; padding: 20px; border-radius: 8px; border: 1px solid #222; color: #00ffaa; font-family: 'Consolas', monospace; font-size: 12px; }
    </style>
</head>
<body onload="init()">
    <aside id="wealth-panel">
        <h2 style="color:var(--gold); margin:0 0 30px 0; font-weight:300; letter-spacing:2px;">WEALTH<span style="font-weight:900;">ARCH</span></h2>
        
        <div class="stat-card">
            <label>Capital para Investimento</label>
            <input type="text" id="cap" value="R$ 10.000,00" oninput="calcROI()">
        </div>
        
        <div class="stat-card">
            <label>ROI Esperado (Mensal %)</label>
            <input type="text" id="roi-pct" value="15%" oninput="calcROI()">
        </div>

        <div id="projection">
            <div class="roi-badge">
                PROJEÇÃO 12 MESES: <br>
                <span id="proj-val" style="font-size:16px; font-weight:bold;">R$ 53.502,50</span>
            </div>
            <p style="font-size:9px; color:#444; margin-top:15px; text-align:center;">Modelo de Juros Compostos Aplicado</p>
        </div>

        <div style="margin-top:auto;">
            <input type="password" id="key" placeholder="API KEY GROQ" style="width:100%; background:#111; border:1px solid #222; color:#555; padding:8px; border-radius:4px; font-size:10px;">
        </div>
    </aside>

    <main id="workspace">
        <header>
            <div style="font-size:11px; color:#555;">SISTEMA DE ANÁLISE PREDITIVA ATIVO</div>
            <div style="color:var(--main); font-size:11px; font-weight:bold;">LATENCY: <span id="lat">0</span>ms</div>
        </header>

        <div id="chat-flow">
            <div class="msg ai">
                <div class="avatar"></div>
                <div class="text"><b>Arquiteto:</b> Terminal v6.2 Online. Ajuste seu capital e ROI na lateral para começarmos a traçar o plano de expansão. Qual sua ordem estratégica?</div>
            </div>
        </div>

        <footer>
            <div class="cmd-bar">
                <textarea id="input" rows="2" placeholder="Ex: Crie um plano de 4 etapas para reinvestir o lucro em tráfego pago..."></textarea>
                <div class="actions">
                    <span style="font-size:10px; color:#333;">POWERED BY LLAMA 3.3 70B</span>
                    <button onclick="enviar()">Executar Ordem</button>
                </div>
            </div>
        </footer>
    </main>

<script>
    function init() {
        document.getElementById('key').value = localStorage.getItem('gkey') || '';
        calcROI();
    }

    function calcROI() {
        let cap = parseFloat(document.getElementById('cap').value.replace(/[^\d]/g, '')) / 100 || 0;
        let pct = parseFloat(document.getElementById('roi-pct').value.replace(/[^\d]/g, '')) / 100 || 0;
        let final = cap * Math.pow((1 + pct), 12);
        document.getElementById('proj-val').innerText = final.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
    }

    async function enviar() {
        const key = document.getElementById('key').value.trim();
        const input = document.getElementById('input');
        const flow = document.getElementById('chat-flow');
        const msg = input.value.trim();
        const start = Date.now();
        
        if(!key || !msg) return;
        localStorage.setItem('gkey', key);

        flow.innerHTML += `<div class="msg user"><div class="avatar" style="background:#111"></div><div class="text"><b>Investidor:</b><br>${msg}</div></div>`;
        input.value = "";
        flow.scrollTop = flow.scrollHeight;

        try {
            const res = await fetch("https://api.groq.com/openai/v1/chat/completions", {
                method: "POST",
                headers: { "Authorization": `Bearer ${key}`, "Content-Type": "application/json" },
                body: JSON.stringify({
                    model: "llama-3.3-70b-versatile",
                    messages: [
                        { role: "system", content: "Você é um Arquiteto de Riqueza. Foque em juros compostos, escala de negócios e eficiência de capital. Responda com clareza executiva." },
                        { role: "user", content: msg }
                    ]
                })
            });
            const data = await res.json();
            document.getElementById('lat').innerText = Date.now() - start;

            let txt = data.choices[0].message.content;
            txt = txt.replace(/```([\s\S]*?)```/g, '<pre>$1</pre>').replace(/\n/g, '<br>');
            
            flow.innerHTML += `<div class="msg ai"><div class="avatar"></div><div class="text"><b>Arquiteto:</b><br>${txt}</div></div>`;
        } catch (e) {
            flow.innerHTML += `<div style="color:red; text-align:center;">Erro de Conexão Estratégica.</div>`;
        }
        flow.scrollTop = flow.scrollHeight;
    }
</script>
</body>
</html>
